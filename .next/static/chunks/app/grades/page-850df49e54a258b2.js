(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1357:function(e,a,s){Promise.resolve().then(s.bind(s,4639))},4639:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return u}});var t=s(7437),r=s(2265),l=s(998),n=s(6463),i=s(6504),o=s(4608),c=s(6760),d=s(5260),m=s(8726);function u(){var e;let{data:a,status:s}=(0,l.useSession)(),u=(0,n.useRouter)(),[x,h]=(0,r.useState)([]),[f,b]=(0,r.useState)([]),[p,g]=(0,r.useState)([]),[j,y]=(0,r.useState)([]),[N,k]=(0,r.useState)(!0),[v,w]=(0,r.useState)(!1),[S,C]=(0,r.useState)(null),[I,P]=(0,r.useState)(!1),[T,Z]=(0,r.useState)(""),[M,z]=(0,r.useState)(""),[E,O]=(0,r.useState)(!1),[U,D]=(0,r.useState)({subjectId:"",taskName:"",score:0,maxScore:100}),[L,_]=(0,r.useState)({}),[B,A]=(0,r.useState)(!1),[F,K]=(0,r.useState)({studentId:"",subjectId:"",taskName:"",score:0,maxScore:100}),[R,G]=(0,r.useState)({});(0,r.useEffect)(()=>{if("loading"!==s){if(!a){u.push("/login");return}H()}},[a,s,u]),(0,r.useEffect)(()=>{let e=p;T&&(e=e.filter(e=>e.student.id===T)),M&&(e=e.filter(e=>e.subject.id===M)),y(e)},[p,T,M]);let H=async()=>{try{k(!0);let[e,a,s]=await Promise.all([fetch("/api/students"),fetch("/api/subjects"),fetch("/api/grades")]);if(e.ok){let a=await e.json();h(a)}if(a.ok){let e=await a.json();b(e)}if(s.ok){let e=await s.json();g(e)}}catch(e){console.error("Error fetching data:",e),m.ZP.error("Terjadi kesalahan saat memuat data")}finally{k(!1)}},J=()=>{let e={};return F.studentId||(e.studentId="Siswa harus dipilih"),F.subjectId||(e.subjectId="Mata pelajaran harus dipilih"),F.taskName.trim()?F.taskName.trim().length<3&&(e.taskName="Nama tugas minimal 3 karakter"):e.taskName="Nama tugas harus diisi",F.score<0?e.score="Nilai tidak boleh negatif":F.score>F.maxScore&&(e.score="Nilai tidak boleh lebih dari nilai maksimal"),F.maxScore<=0?e.maxScore="Nilai maksimal harus lebih dari 0":F.maxScore>1e3&&(e.maxScore="Nilai maksimal tidak boleh lebih dari 1000"),G(e),0===Object.keys(e).length},W=e=>{let{name:a,value:s}=e.target;K(e=>({...e,[a]:"score"===a||"maxScore"===a?parseFloat(s)||0:s})),R[a]&&G(e=>({...e,[a]:void 0}))},V=e=>{e?(C(e),K({studentId:e.student.id,subjectId:e.subject.id,taskName:e.taskName,score:e.score,maxScore:e.maxScore})):(C(null),K({studentId:"",subjectId:"",taskName:"",score:0,maxScore:100})),G({}),w(!0)},q=()=>{w(!1),C(null),K({studentId:"",subjectId:"",taskName:"",score:0,maxScore:100}),G({})},Q=async e=>{if(e.preventDefault(),console.log("Grade form submitted with data:",F),!J()){m.ZP.error("Mohon perbaiki kesalahan pada form");return}P(!0);try{let e=S?"/api/grades/".concat(S.id):"/api/grades",a=await fetch(e,{method:S?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:F.studentId,subjectId:F.subjectId,taskName:F.taskName.trim(),score:F.score,maxScore:F.maxScore})}),s=await a.json();console.log("Grade API response:",s),a.ok?(m.ZP.success(S?"Nilai berhasil diupdate!":"Nilai berhasil ditambahkan!"),H(),q()):m.ZP.error(s.error||"Terjadi kesalahan")}catch(e){console.error("Error saving grade:",e),m.ZP.error("Terjadi kesalahan saat menyimpan data")}finally{P(!1)}},X=async e=>{if(window.confirm('Apakah Anda yakin ingin menghapus nilai "'.concat(e.taskName,'" untuk siswa ').concat(e.student.name,"?")))try{let a=await fetch("/api/grades/".concat(e.id),{method:"DELETE"});if(a.ok)m.ZP.success("Nilai berhasil dihapus!"),H();else{let e=await a.json();m.ZP.error(e.error||"Gagal menghapus nilai")}}catch(e){console.error("Error deleting grade:",e),m.ZP.error("Terjadi kesalahan saat menghapus nilai")}},Y=async()=>{try{let s=await fetch("/api/export/excel");if(s.ok){var e;let t=await s.blob(),r=window.URL.createObjectURL(t),l=document.createElement("a");l.style.display="none",l.href=r,l.download="Rekap_Nilai_Kelas_".concat(null==a?void 0:null===(e=a.user)||void 0===e?void 0:e.assignedClass,"_").concat(new Date().toISOString().split("T")[0],".xlsx"),document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(r),m.ZP.success("File Excel berhasil diunduh!")}else m.ZP.error("Gagal mengexport data")}catch(e){console.error("Error exporting to Excel:",e),m.ZP.error("Terjadi kesalahan saat export data")}},$=()=>{let e={};return U.subjectId||(e.subjectId="Mata pelajaran harus dipilih"),U.taskName.trim()?U.taskName.trim().length<3&&(e.taskName="Nama tugas minimal 3 karakter"):e.taskName="Nama tugas harus diisi",U.score<0?e.score="Nilai tidak boleh negatif":U.score>U.maxScore&&(e.score="Nilai tidak boleh lebih dari nilai maksimal"),U.maxScore<=0?e.maxScore="Nilai maksimal harus lebih dari 0":U.maxScore>1e3&&(e.maxScore="Nilai maksimal tidak boleh lebih dari 1000"),_(e),0===Object.keys(e).length},ee=e=>{let{name:a,value:s}=e.target;D(e=>({...e,[a]:"score"===a||"maxScore"===a?parseFloat(s)||0:s})),L[a]&&_(e=>({...e,[a]:void 0}))},ea=async e=>{if(e.preventDefault(),console.log("Bulk grade form submitted with data:",U),!$()){m.ZP.error("Mohon perbaiki kesalahan pada form");return}if(0===x.length){m.ZP.error("Tidak ada siswa untuk diberi nilai");return}if(window.confirm("Apakah Anda yakin ingin memberikan nilai ".concat(U.score,"/").concat(U.maxScore,' untuk tugas "').concat(U.taskName,'" kepada semua ').concat(x.length," siswa?"))){A(!0);try{let e=0,a=0;for(let s of x)try{(await fetch("/api/grades",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:s.id,subjectId:U.subjectId,taskName:U.taskName.trim(),score:U.score,maxScore:U.maxScore})})).ok?e++:a++}catch(e){a++}e>0&&(m.ZP.success("Berhasil memberikan nilai ke ".concat(e," siswa!")),H(),O(!1),D({subjectId:"",taskName:"",score:0,maxScore:100}),_({})),a>0&&m.ZP.error("".concat(a," siswa gagal diberi nilai"))}catch(e){console.error("Error bulk saving grades:",e),m.ZP.error("Terjadi kesalahan saat menyimpan nilai")}finally{A(!1)}}},es=(e,a)=>Math.round(e/a*100),et=e=>e>=80?"#10b981":e>=70?"#f59e0b":e>=60?"#f97316":"#ef4444";return"loading"===s?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(i.Z,{}),(0,t.jsx)("div",{className:"container mx-auto px-6 py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4",style:{color:"#6b7280"},children:"Memuat data..."})]})})]}):a?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(i.Z,{}),(0,t.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold",style:{color:"#111827"},children:["Input Nilai Kelas ",null===(e=a.user)||void 0===e?void 0:e.assignedClass]}),(0,t.jsxs)("p",{style:{color:"#6b7280"},children:["Total: ",j.length," nilai"]})]}),(0,t.jsxs)("div",{className:"space-x-3",children:[(0,t.jsx)(c.z,{variant:"outline",onClick:Y,children:"Export Excel"}),(0,t.jsx)(c.z,{variant:"outline",onClick:()=>{D({subjectId:"",taskName:"",score:0,maxScore:100}),_({}),O(!0)},children:"Nilai Sama Semua"}),(0,t.jsx)(c.z,{onClick:()=>V(),children:"Input Nilai"})]})]}),(0,t.jsx)(o.Z,{className:"mb-6",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",style:{color:"#111827"},children:"Filter Data"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Filter Siswa"}),(0,t.jsxs)("select",{value:T,onChange:e=>Z(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{color:"#111827",backgroundColor:"#ffffff"},children:[(0,t.jsx)("option",{value:"",children:"Semua Siswa"}),x.map(e=>(0,t.jsx)("option",{value:e.id,style:{color:"#111827"},children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Mata Pelajaran"}),(0,t.jsxs)("select",{value:M,onChange:e=>z(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{color:"#111827",backgroundColor:"#ffffff"},children:[(0,t.jsx)("option",{value:"",children:"Semua Mata Pelajaran"}),f.map(e=>(0,t.jsx)("option",{value:e.id,style:{color:"#111827"},children:e.name},e.id))]})]})]})]})}),N?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4",style:{color:"#6b7280"},children:"Memuat data nilai..."})]}):(0,t.jsx)(o.Z,{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"Siswa"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"Mata Pelajaran"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"Tugas"}),(0,t.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"Nilai"}),(0,t.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"Persentase"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"Aksi"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===j.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:6,className:"px-6 py-8 text-center",children:[(0,t.jsx)("p",{style:{color:"#6b7280"},children:0===p.length?"Belum ada nilai yang diinput":"Tidak ada data sesuai filter"}),(0,t.jsx)(c.z,{onClick:()=>V(),className:"mt-4",variant:"outline",children:"Input Nilai Pertama"})]})}):j.map(e=>{let a=es(e.score,e.maxScore);return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,t.jsx)("div",{className:"text-sm font-medium",style:{color:"#111827"},children:e.student.name}),e.student.nisn&&(0,t.jsxs)("div",{className:"text-xs",style:{color:"#6b7280"},children:["NISN: ",e.student.nisn]})]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:"#374151"},children:e.subject.name}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,t.jsx)("div",{className:"text-sm font-medium",style:{color:"#111827"},children:e.taskName}),(0,t.jsx)("div",{className:"text-xs",style:{color:"#6b7280"},children:new Date(e.date).toLocaleDateString("id-ID")})]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,t.jsxs)("div",{className:"text-sm font-medium",style:{color:"#111827"},children:[e.score," / ",e.maxScore]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:et(a)+"20",color:et(a)},children:[a,"%"]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,t.jsxs)("div",{className:"space-x-2",children:[(0,t.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>V(e),children:"Edit"}),(0,t.jsx)(c.z,{variant:"danger",size:"sm",onClick:()=>X(e),children:"Hapus"})]})})]},e.id)})})]})})})]}),(0,t.jsx)(d.u,{isOpen:v,onClose:q,title:S?"Edit Nilai":"Input Nilai Baru",children:(0,t.jsxs)("form",{onSubmit:Q,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Siswa"}),(0,t.jsxs)("select",{name:"studentId",value:F.studentId,onChange:W,className:"\n                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                  ".concat(R.studentId?"border-red-500":"border-gray-300","\n                  text-gray-900 bg-white\n                "),style:{color:"#111827",backgroundColor:"#ffffff"},disabled:!!S,children:[(0,t.jsx)("option",{value:"",children:"Pilih Siswa"}),x.map(e=>(0,t.jsx)("option",{value:e.id,style:{color:"#111827"},children:e.name},e.id))]}),R.studentId&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:R.studentId})]}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Mata Pelajaran"}),(0,t.jsxs)("select",{name:"subjectId",value:F.subjectId,onChange:W,className:"\n                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                  ".concat(R.subjectId?"border-red-500":"border-gray-300","\n                  text-gray-900 bg-white\n                "),style:{color:"#111827",backgroundColor:"#ffffff"},children:[(0,t.jsx)("option",{value:"",children:"Pilih Mata Pelajaran"}),f.map(e=>(0,t.jsx)("option",{value:e.id,style:{color:"#111827"},children:e.name},e.id))]}),R.subjectId&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:R.subjectId})]})]}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Nama Tugas/Ujian"}),(0,t.jsx)("input",{type:"text",name:"taskName",value:F.taskName,onChange:W,placeholder:"Contoh: Ulangan Harian 1, Tugas Kelompok, UTS",className:"\n                w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                ".concat(R.taskName?"border-red-500":"border-gray-300","\n                text-gray-900 placeholder-gray-500 bg-white\n              "),style:{color:"#111827",backgroundColor:"#ffffff"}}),R.taskName&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:R.taskName})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Nilai"}),(0,t.jsx)("input",{type:"number",name:"score",value:F.score,onChange:W,min:"0",max:F.maxScore,step:"0.1",className:"\n                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                  ".concat(R.score?"border-red-500":"border-gray-300","\n                  text-gray-900 bg-white\n                "),style:{color:"#111827",backgroundColor:"#ffffff"}}),R.score&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:R.score})]}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Nilai Maksimal"}),(0,t.jsx)("input",{type:"number",name:"maxScore",value:F.maxScore,onChange:W,min:"1",max:"1000",step:"1",className:"\n                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                  ".concat(R.maxScore?"border-red-500":"border-gray-300","\n                  text-gray-900 bg-white\n                "),style:{color:"#111827",backgroundColor:"#ffffff"}}),R.maxScore&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:R.maxScore})]})]}),F.score>0&&F.maxScore>0&&(0,t.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{style:{color:"#374151"},children:"Persentase:"}),(0,t.jsxs)("span",{className:"font-bold text-lg",style:{color:et(es(F.score,F.maxScore))},children:[es(F.score,F.maxScore),"%"]})]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)(c.z,{type:"button",variant:"outline",onClick:q,children:"Batal"}),(0,t.jsx)(c.z,{type:"submit",disabled:I,children:I?"Menyimpan...":S?"Update":"Simpan"})]})]})}),(0,t.jsx)(d.u,{isOpen:E,onClose:()=>O(!1),title:"Berikan Nilai Sama untuk Semua Siswa",children:(0,t.jsxs)("form",{onSubmit:ea,className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm",style:{color:"#1d4ed8"},children:["Fitur ini akan memberikan nilai yang sama untuk tugas tertentu kepada semua ",x.length," siswa di kelas Anda."]})}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Mata Pelajaran"}),(0,t.jsxs)("select",{name:"subjectId",value:U.subjectId,onChange:ee,className:"\n                w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                ".concat(L.subjectId?"border-red-500":"border-gray-300","\n                text-gray-900 bg-white\n              "),style:{color:"#111827",backgroundColor:"#ffffff"},children:[(0,t.jsx)("option",{value:"",children:"Pilih Mata Pelajaran"}),f.map(e=>(0,t.jsx)("option",{value:e.id,style:{color:"#111827"},children:e.name},e.id))]}),L.subjectId&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:L.subjectId})]}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Nama Tugas/Ujian"}),(0,t.jsx)("input",{type:"text",name:"taskName",value:U.taskName,onChange:ee,placeholder:"Contoh: Ulangan Harian 1, Tugas Kelompok, UTS",className:"\n                w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                ".concat(L.taskName?"border-red-500":"border-gray-300","\n                text-gray-900 placeholder-gray-500 bg-white\n              "),style:{color:"#111827",backgroundColor:"#ffffff"}}),L.taskName&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:L.taskName})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Nilai"}),(0,t.jsx)("input",{type:"number",name:"score",value:U.score,onChange:ee,min:"0",max:U.maxScore,step:"0.1",className:"\n                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                  ".concat(L.score?"border-red-500":"border-gray-300","\n                  text-gray-900 bg-white\n                "),style:{color:"#111827",backgroundColor:"#ffffff"}}),L.score&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:L.score})]}),(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Nilai Maksimal"}),(0,t.jsx)("input",{type:"number",name:"maxScore",value:U.maxScore,onChange:ee,min:"1",max:"1000",step:"1",className:"\n                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                  ".concat(L.maxScore?"border-red-500":"border-gray-300","\n                  text-gray-900 bg-white\n                "),style:{color:"#111827",backgroundColor:"#ffffff"}}),L.maxScore&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:L.maxScore})]})]}),U.score>0&&U.maxScore>0&&(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{style:{color:"#374151"},children:"Persentase:"}),(0,t.jsxs)("span",{className:"font-bold text-lg",style:{color:et(es(U.score,U.maxScore))},children:[es(U.score,U.maxScore),"%"]})]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsxs)("span",{className:"text-sm",style:{color:"#374151"},children:["Nilai ini akan diberikan kepada ",x.length," siswa"]})})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)(c.z,{type:"button",variant:"outline",onClick:()=>O(!1),children:"Batal"}),(0,t.jsx)(c.z,{type:"submit",disabled:B,children:B?"Menyimpan...":"Simpan Nilai untuk Semua Siswa"})]})]})})]}):null}},6504:function(e,a,s){"use strict";s.d(a,{Z:function(){return c}});var t=s(7437),r=s(998),l=s(7138),n=s(6463),i=s(6760);let o=[{name:"Dashboard",href:"/dashboard"},{name:"Data Siswa",href:"/students"},{name:"Input Nilai",href:"/grades"}];function c(){var e,a,s,c;let{data:d}=(0,r.useSession)(),m=(0,n.usePathname)(),u=()=>{(0,r.signOut)({callbackUrl:"/login"})};return d?(0,t.jsx)("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"flex justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(l.default,{href:"/dashboard",className:"flex items-center",children:(0,t.jsx)("h1",{className:"text-xl font-bold text-blue-600",children:"Penilaian SD"})}),(0,t.jsx)("div",{className:"hidden sm:ml-8 sm:flex sm:space-x-8",children:o.map(e=>(0,t.jsx)(l.default,{href:e.href,className:"inline-flex items-center px-1 pt-1 text-sm font-medium border-b-2 transition-colors ".concat(m===e.href?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.name},e.name))})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"hidden sm:flex sm:items-center sm:space-x-4",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-700",children:[null===(e=d.user)||void 0===e?void 0:e.name," - Kelas ",null===(a=d.user)||void 0===a?void 0:a.assignedClass]}),(0,t.jsx)(i.z,{variant:"outline",size:"sm",onClick:u,children:"Logout"})]}),(0,t.jsx)("div",{className:"sm:hidden",children:(0,t.jsx)(i.z,{variant:"outline",size:"sm",onClick:u,children:"Logout"})})]})]}),(0,t.jsxs)("div",{className:"sm:hidden pb-3 pt-2 space-y-1",children:[o.map(e=>(0,t.jsx)(l.default,{href:e.href,className:"block pl-3 pr-4 py-2 text-base font-medium transition-colors ".concat(m===e.href?"bg-blue-50 border-l-4 border-blue-500 text-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"),children:e.name},e.name)),(0,t.jsxs)("div",{className:"pl-3 pr-4 py-2 text-sm text-gray-600",children:[null===(s=d.user)||void 0===s?void 0:s.name," - Kelas ",null===(c=d.user)||void 0===c?void 0:c.assignedClass]})]})]})}):null}},6760:function(e,a,s){"use strict";s.d(a,{z:function(){return r}});var t=s(7437);s(2265);let r=e=>{let{variant:a="primary",size:s="md",loading:r=!1,disabled:l,children:n,className:i="",...o}=e;return(0,t.jsxs)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"border border-gray-300 bg-white hover:bg-gray-50 focus:ring-blue-500"}[a]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[s]," ").concat(i),style:{color:"outline"===a?"#374151":"#ffffff",backgroundColor:"primary"===a?"#2563eb":"secondary"===a?"#4b5563":"danger"===a?"#dc2626":"#ffffff"},disabled:l||r,...o,children:[r&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]})}},4608:function(e,a,s){"use strict";s.d(a,{O:function(){return l},Z:function(){return r}});var t=s(7437);s(2265);let r=e=>{let{children:a,className:s="",padding:r=!0}=e;return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 ".concat(r?"p-6":""," ").concat(s),children:a})},l=e=>{let{title:a,subtitle:s,action:r}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:a}),s&&(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:s})]}),r&&(0,t.jsx)("div",{children:r})]})}},5260:function(e,a,s){"use strict";s.d(a,{u:function(){return r}});var t=s(7437);s(2265);let r=e=>{let{isOpen:a,onClose:s,title:r,children:l,size:n="md"}=e;return a?(0,t.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,t.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s}),(0,t.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[n]," max-h-[90vh] overflow-y-auto"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:r}),(0,t.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"p-6",children:l})]})]})}):null}}},function(e){e.O(0,[726,998,291,971,23,744],function(){return e(e.s=1357)}),_N_E=e.O()}]);