(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{2601:function(e,s,a){Promise.resolve().then(a.bind(a,3488))},3488:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return d}});var r=a(7437),l=a(2265),o=a(6463),n=a(7138),t=a(8726),i=a(6760),c=a(4608);function d(){let[e,s]=(0,l.useState)(!1),[a,d]=(0,l.useState)({name:"",email:"",password:"",confirmPassword:"",assignedClass:0}),[m,u]=(0,l.useState)({}),f=(0,o.useRouter)(),g=()=>{let e={};return a.name.trim()?a.name.trim().length<3&&(e.name="Nama minimal 3 karakter"):e.name="Nama harus diisi",a.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(a.email)||(e.email="Format email tidak valid"):e.email="Email harus diisi",a.password?a.password.length<6&&(e.password="Password minimal 6 karakter"):e.password="Password harus diisi",a.confirmPassword?a.password!==a.confirmPassword&&(e.confirmPassword="Password tidak cocok"):e.confirmPassword="Konfirmasi password harus diisi",(!a.assignedClass||a.assignedClass<1||a.assignedClass>6)&&(e.assignedClass="Kelas harus dipilih"),u(e),0===Object.keys(e).length},h=e=>{let{name:s,value:a}=e.target;d(e=>({...e,[s]:"assignedClass"===s?parseInt(a)||0:a})),m[s]&&u(e=>({...e,[s]:void 0}))},x=async e=>{if(e.preventDefault(),console.log("Form submitted with data:",a),!g()){t.ZP.error("Mohon perbaiki kesalahan pada form");return}s(!0);try{let e=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,email:a.email,password:a.password,assignedClass:a.assignedClass})}),s=await e.json();console.log("API response:",s),e.ok?(t.ZP.success("Registrasi berhasil! Silakan login."),f.push("/login")):t.ZP.error(s.error||"Terjadi kesalahan saat registrasi")}catch(e){console.error("Registration error:",e),t.ZP.error("Terjadi kesalahan saat registrasi")}finally{s(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2",style:{color:"#111827"},children:"Daftar Akun Baru"}),(0,r.jsx)("p",{style:{color:"#6b7280"},children:"Buat akun untuk mengakses sistem penilaian"})]}),(0,r.jsx)(c.Z,{children:(0,r.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Nama Lengkap"}),(0,r.jsx)("input",{type:"text",name:"name",value:a.name,onChange:h,placeholder:"Masukkan nama lengkap Anda",className:"\n                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                  ".concat(m.name?"border-red-500":"border-gray-300","\n                  text-gray-900 placeholder-gray-500 bg-white\n                "),style:{color:"#111827",backgroundColor:"#ffffff"}}),m.name&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:m.name})]}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Email"}),(0,r.jsx)("input",{type:"email",name:"email",value:a.email,onChange:h,placeholder:"Masukkan email Anda",className:"\n                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                  ".concat(m.email?"border-red-500":"border-gray-300","\n                  text-gray-900 placeholder-gray-500 bg-white\n                "),style:{color:"#111827",backgroundColor:"#ffffff"}}),m.email&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:m.email})]}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Kelas yang Diajar"}),(0,r.jsxs)("select",{name:"assignedClass",value:a.assignedClass,onChange:h,className:"\n                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                  ".concat(m.assignedClass?"border-red-500":"border-gray-300","\n                  text-gray-900 bg-white\n                "),style:{color:"#111827",backgroundColor:"#ffffff"},children:[(0,r.jsx)("option",{value:0,style:{color:"#111827"},children:"Pilih Kelas"}),(0,r.jsx)("option",{value:1,style:{color:"#111827"},children:"Kelas 1"}),(0,r.jsx)("option",{value:2,style:{color:"#111827"},children:"Kelas 2"}),(0,r.jsx)("option",{value:3,style:{color:"#111827"},children:"Kelas 3"}),(0,r.jsx)("option",{value:4,style:{color:"#111827"},children:"Kelas 4"}),(0,r.jsx)("option",{value:5,style:{color:"#111827"},children:"Kelas 5"}),(0,r.jsx)("option",{value:6,style:{color:"#111827"},children:"Kelas 6"})]}),m.assignedClass&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:m.assignedClass})]}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Password"}),(0,r.jsx)("input",{type:"password",name:"password",value:a.password,onChange:h,placeholder:"Masukkan password",className:"\n                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                  ".concat(m.password?"border-red-500":"border-gray-300","\n                  text-gray-900 placeholder-gray-500 bg-white\n                "),style:{color:"#111827",backgroundColor:"#ffffff"}}),m.password&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:m.password})]}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Konfirmasi Password"}),(0,r.jsx)("input",{type:"password",name:"confirmPassword",value:a.confirmPassword,onChange:h,placeholder:"Konfirmasi password",className:"\n                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n                  ".concat(m.confirmPassword?"border-red-500":"border-gray-300","\n                  text-gray-900 placeholder-gray-500 bg-white\n                "),style:{color:"#111827",backgroundColor:"#ffffff"}}),m.confirmPassword&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:m.confirmPassword})]}),(0,r.jsx)(i.z,{type:"submit",className:"w-full",disabled:e,children:e?"Memproses...":"Daftar"}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("p",{style:{color:"#6b7280"},children:["Sudah punya akun?"," ",(0,r.jsx)(n.default,{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",style:{color:"#2563eb"},children:"Masuk di sini"})]})})]})})]})})}},6760:function(e,s,a){"use strict";a.d(s,{z:function(){return l}});var r=a(7437);a(2265);let l=e=>{let{variant:s="primary",size:a="md",loading:l=!1,disabled:o,children:n,className:t="",...i}=e;return(0,r.jsxs)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"border border-gray-300 bg-white hover:bg-gray-50 focus:ring-blue-500"}[s]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[a]," ").concat(t),style:{color:"outline"===s?"#374151":"#ffffff",backgroundColor:"primary"===s?"#2563eb":"secondary"===s?"#4b5563":"danger"===s?"#dc2626":"#ffffff"},disabled:o||l,...i,children:[l&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]})}},4608:function(e,s,a){"use strict";a.d(s,{O:function(){return o},Z:function(){return l}});var r=a(7437);a(2265);let l=e=>{let{children:s,className:a="",padding:l=!0}=e;return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 ".concat(l?"p-6":""," ").concat(a),children:s})},o=e=>{let{title:s,subtitle:a,action:l}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:s}),a&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a})]}),l&&(0,r.jsx)("div",{children:l})]})}}},function(e){e.O(0,[726,291,971,23,744],function(){return e(e.s=2601)}),_N_E=e.O()}]);