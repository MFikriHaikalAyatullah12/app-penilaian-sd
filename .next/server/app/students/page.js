(()=>{var e={};e.id=759,e.ids=[759],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},96461:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),a(1521),a(74614),a(35866);var t=a(23191),r=a(88716),n=a(37922),i=a.n(n),l=a(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(s,o);let d=["",{children:["students",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,1521)),"D:\\FILE FIKRI\\penilaian sd\\src\\app\\students\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,74614)),"D:\\FILE FIKRI\\penilaian sd\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\FILE FIKRI\\penilaian sd\\src\\app\\students\\page.tsx"],m="/students/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/students/page",pathname:"/students",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},94944:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,12994,23)),Promise.resolve().then(a.t.bind(a,96114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,79671,23)),Promise.resolve().then(a.t.bind(a,41868,23)),Promise.resolve().then(a.t.bind(a,84759,23))},66074:(e,s,a)=>{Promise.resolve().then(a.bind(a,55596))},52704:(e,s,a)=>{Promise.resolve().then(a.bind(a,26248))},26248:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x});var t=a(10326),r=a(17577),n=a(77109),i=a(35047),l=a(58015),o=a(47375),d=a(99837),c=a(28676),m=a(40381);function x(){let{data:e,status:s}=(0,n.useSession)();(0,i.useRouter)();let[a,x]=(0,r.useState)([]),[u,h]=(0,r.useState)(!0),[p,g]=(0,r.useState)(!1),[b,f]=(0,r.useState)(null),[y,j]=(0,r.useState)(!1),[v,w]=(0,r.useState)({name:"",nisn:""}),[N,k]=(0,r.useState)({}),P=async()=>{try{h(!0);let e=await fetch("/api/students");if(e.ok){let s=await e.json();x(s)}else m.ZP.error("Gagal memuat data siswa")}catch(e){console.error("Error fetching students:",e),m.ZP.error("Terjadi kesalahan saat memuat data")}finally{h(!1)}},S=()=>{let e={};return v.name.trim()?v.name.trim().length<2&&(e.name="Nama minimal 2 karakter"):e.name="Nama siswa harus diisi",v.nisn&&v.nisn.trim()&&(/^[\d.]+$/.test(v.nisn.trim())?v.nisn.trim().length<3&&(e.nisn="NISN minimal 3 karakter"):e.nisn="NISN hanya boleh berisi angka dan titik"),k(e),0===Object.keys(e).length},I=e=>{let{name:s,value:a}=e.target;w(e=>({...e,[s]:a})),N[s]&&k(e=>({...e,[s]:void 0}))},C=e=>{e?(f(e),w({name:e.name,nisn:e.nisn||""})):(f(null),w({name:"",nisn:""})),k({}),g(!0)},E=()=>{g(!1),f(null),w({name:"",nisn:""}),k({})},_=async e=>{if(e.preventDefault(),console.log("Student form submitted with data:",v),!S()){m.ZP.error("Mohon perbaiki kesalahan pada form");return}j(!0);try{let e=b?`/api/students/${b.id}`:"/api/students",s=await fetch(e,{method:b?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v.name.trim(),nisn:v.nisn.trim()||null})}),a=await s.json();console.log("Student API response:",a),s.ok?(m.ZP.success(b?"Siswa berhasil diupdate!":"Siswa berhasil ditambahkan!"),P(),E()):m.ZP.error(a.error||"Terjadi kesalahan")}catch(e){console.error("Error saving student:",e),m.ZP.error("Terjadi kesalahan saat menyimpan data")}finally{j(!1)}},z=async e=>{if(window.confirm(`Apakah Anda yakin ingin menghapus siswa "${e.name}"? Semua nilai siswa ini akan ikut terhapus.`))try{let s=await fetch(`/api/students/${e.id}`,{method:"DELETE"});if(s.ok)m.ZP.success("Siswa berhasil dihapus!"),P();else{let e=await s.json();m.ZP.error(e.error||"Gagal menghapus siswa")}}catch(e){console.error("Error deleting student:",e),m.ZP.error("Terjadi kesalahan saat menghapus siswa")}};return"loading"===s?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(l.Z,{}),t.jsx("div",{className:"container mx-auto px-6 py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-4",style:{color:"#6b7280"},children:"Memuat data..."})]})})]}):e?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx(l.Z,{}),(0,t.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold",style:{color:"#111827"},children:["Data Siswa Kelas ",e.user?.assignedClass]}),(0,t.jsxs)("p",{style:{color:"#6b7280"},children:["Total: ",a.length," siswa"]})]}),t.jsx(d.z,{onClick:()=>C(),children:"Tambah Siswa"})]}),u?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-4",style:{color:"#6b7280"},children:"Memuat data siswa..."})]}):t.jsx(o.Z,{children:t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"NO"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"NAMA SISWA"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"NISN"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"AKSI"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===a.length?t.jsx("tr",{children:(0,t.jsxs)("td",{colSpan:4,className:"px-6 py-8 text-center",children:[t.jsx("p",{style:{color:"#6b7280"},children:"Belum ada siswa yang terdaftar"}),t.jsx(d.z,{onClick:()=>C(),className:"mt-4",variant:"outline",children:"Tambah Siswa Pertama"})]})}):a.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:"#374151"},children:s+1}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm font-medium",style:{color:"#111827"},children:e.name})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:"#6b7280"},children:e.nisn||"-"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,t.jsxs)("div",{className:"space-x-2",children:[t.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>C(e),children:"Edit"}),t.jsx(d.z,{variant:"danger",size:"sm",onClick:()=>z(e),children:"Hapus"})]})})]},e.id))})]})})})]}),t.jsx(c.u,{isOpen:p,onClose:E,title:b?"Edit Siswa":"Tambah Siswa Baru",children:(0,t.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"w-full",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Nama Siswa"}),t.jsx("input",{type:"text",name:"name",value:v.name,onChange:I,placeholder:"Masukkan nama siswa",className:`
                w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                ${N.name?"border-red-500":"border-gray-300"}
                text-gray-900 placeholder-gray-500 bg-white
              `,style:{color:"#111827",backgroundColor:"#ffffff"}}),N.name&&t.jsx("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:N.name})]}),(0,t.jsxs)("div",{className:"w-full",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"NISN (Opsional)"}),t.jsx("input",{type:"text",name:"nisn",value:v.nisn,onChange:I,placeholder:"Nomor Induk Siswa Nasional (boleh dikosongkan)",className:`
                w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                ${N.nisn?"border-red-500":"border-gray-300"}
                text-gray-900 placeholder-gray-500 bg-white
              `,style:{color:"#111827",backgroundColor:"#ffffff"}}),N.nisn&&t.jsx("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:N.nisn}),t.jsx("p",{className:"mt-1 text-xs",style:{color:"#6b7280"},children:"Nomor Induk Siswa Nasional (boleh dikosongkan)"})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[t.jsx(d.z,{type:"button",variant:"outline",onClick:E,children:"Batal"}),t.jsx(d.z,{type:"submit",disabled:y,children:y?"Menyimpan...":b?"Update":"Tambah"})]})]})})]}):null}},58015:(e,s,a)=>{"use strict";a.d(s,{Z:()=>d});var t=a(10326),r=a(77109),n=a(90434),i=a(35047),l=a(99837);let o=[{name:"Dashboard",href:"/dashboard"},{name:"Data Siswa",href:"/students"},{name:"Input Nilai",href:"/grades"}];function d(){let{data:e}=(0,r.useSession)(),s=(0,i.usePathname)(),a=()=>{(0,r.signOut)({callbackUrl:"/login"})};return e?t.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"flex justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(n.default,{href:"/dashboard",className:"flex items-center",children:t.jsx("h1",{className:"text-xl font-bold text-blue-600",children:"Penilaian SD"})}),t.jsx("div",{className:"hidden sm:ml-8 sm:flex sm:space-x-8",children:o.map(e=>t.jsx(n.default,{href:e.href,className:`inline-flex items-center px-1 pt-1 text-sm font-medium border-b-2 transition-colors ${s===e.href?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.name},e.name))})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"hidden sm:flex sm:items-center sm:space-x-4",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-700",children:[e.user?.name," - Kelas ",e.user?.assignedClass]}),t.jsx(l.z,{variant:"outline",size:"sm",onClick:a,children:"Logout"})]}),t.jsx("div",{className:"sm:hidden",children:t.jsx(l.z,{variant:"outline",size:"sm",onClick:a,children:"Logout"})})]})]}),(0,t.jsxs)("div",{className:"sm:hidden pb-3 pt-2 space-y-1",children:[o.map(e=>t.jsx(n.default,{href:e.href,className:`block pl-3 pr-4 py-2 text-base font-medium transition-colors ${s===e.href?"bg-blue-50 border-l-4 border-blue-500 text-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:e.name},e.name)),(0,t.jsxs)("div",{className:"pl-3 pr-4 py-2 text-sm text-gray-600",children:[e.user?.name," - Kelas ",e.user?.assignedClass]})]})]})}):null}},55596:(e,s,a)=>{"use strict";a.d(s,{default:()=>i});var t=a(10326),r=a(77109),n=a(40381);function i({children:e}){return(0,t.jsxs)(r.SessionProvider,{children:[e,t.jsx(n.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,style:{background:"#10B981"}},error:{duration:5e3,style:{background:"#EF4444"}}}})]})}},99837:(e,s,a)=>{"use strict";a.d(s,{z:()=>r});var t=a(10326);a(17577);let r=({variant:e="primary",size:s="md",loading:a=!1,disabled:r,children:n,className:i="",...l})=>(0,t.jsxs)("button",{className:`inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"border border-gray-300 bg-white hover:bg-gray-50 focus:ring-blue-500"}[e]} ${{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[s]} ${i}`,style:{color:"outline"===e?"#374151":"#ffffff",backgroundColor:"primary"===e?"#2563eb":"secondary"===e?"#4b5563":"danger"===e?"#dc2626":"#ffffff"},disabled:r||a,...l,children:[a&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]})},47375:(e,s,a)=>{"use strict";a.d(s,{O:()=>n,Z:()=>r});var t=a(10326);a(17577);let r=({children:e,className:s="",padding:a=!0})=>t.jsx("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 ${a?"p-6":""} ${s}`,children:e}),n=({title:e,subtitle:s,action:a})=>(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e}),s&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s})]}),a&&t.jsx("div",{children:a})]})},28676:(e,s,a)=>{"use strict";a.d(s,{u:()=>r});var t=a(10326);a(17577);let r=({isOpen:e,onClose:s,title:a,children:r,size:n="md"})=>e?t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,t.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s}),(0,t.jsxs)("div",{className:`relative bg-white rounded-lg shadow-xl w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[n]} max-h-[90vh] overflow-y-auto`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a}),t.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("div",{className:"p-6",children:r})]})]})}):null},74614:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x,metadata:()=>m});var t=a(19510),r=a(25384),n=a.n(r);a(5023);var i=a(68570);let l=(0,i.createProxy)(String.raw`D:\FILE FIKRI\penilaian sd\src\components\Providers.tsx`),{__esModule:o,$$typeof:d}=l;l.default;let c=(0,i.createProxy)(String.raw`D:\FILE FIKRI\penilaian sd\src\components\Providers.tsx#default`),m={title:"Aplikasi Penilaian Guru SD",description:"Aplikasi untuk membantu guru SD dalam mengelola penilaian siswa"};function x({children:e}){return t.jsx("html",{lang:"id",children:t.jsx("body",{className:n().className,children:t.jsx(c,{children:e})})})}},1521:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var t=a(68570);let r=(0,t.createProxy)(String.raw`D:\FILE FIKRI\penilaian sd\src\app\students\page.tsx`),{__esModule:n,$$typeof:i}=r;r.default;let l=(0,t.createProxy)(String.raw`D:\FILE FIKRI\penilaian sd\src\app\students\page.tsx#default`)},5023:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[948,541,496],()=>a(96461));module.exports=t})();