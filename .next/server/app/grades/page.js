(()=>{var e={};e.id=177,e.ids=[177],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9911:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),a(76429),a(74614),a(35866);var r=a(23191),t=a(88716),l=a(37922),i=a.n(l),n=a(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(s,o);let c=["",{children:["grades",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,76429)),"D:\\FILE FIKRI\\penilaian sd\\src\\app\\grades\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,74614)),"D:\\FILE FIKRI\\penilaian sd\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\FILE FIKRI\\penilaian sd\\src\\app\\grades\\page.tsx"],m="/grades/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/grades/page",pathname:"/grades",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},94944:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,12994,23)),Promise.resolve().then(a.t.bind(a,96114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,79671,23)),Promise.resolve().then(a.t.bind(a,41868,23)),Promise.resolve().then(a.t.bind(a,84759,23))},66074:(e,s,a)=>{Promise.resolve().then(a.bind(a,55596))},41549:(e,s,a)=>{Promise.resolve().then(a.bind(a,74072))},74072:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var r=a(10326),t=a(17577),l=a(77109),i=a(35047),n=a(58015),o=a(47375),c=a(99837),d=a(28676),m=a(40381);function u(){let{data:e,status:s}=(0,l.useSession)();(0,i.useRouter)();let[a,u]=(0,t.useState)([]),[x,h]=(0,t.useState)([]),[p,b]=(0,t.useState)([]),[g,f]=(0,t.useState)([]),[j,y]=(0,t.useState)(!0),[N,k]=(0,t.useState)(!1),[v,w]=(0,t.useState)(null),[S,I]=(0,t.useState)(!1),[P,C]=(0,t.useState)(""),[$,E]=(0,t.useState)(""),[M,T]=(0,t.useState)(!1),[Z,F]=(0,t.useState)({subjectId:"",taskName:"",score:0,maxScore:100}),[_,z]=(0,t.useState)({}),[D,L]=(0,t.useState)(!1),[O,A]=(0,t.useState)({studentId:"",subjectId:"",taskName:"",score:0,maxScore:100}),[R,K]=(0,t.useState)({}),U=async()=>{try{y(!0);let[e,s,a]=await Promise.all([fetch("/api/students"),fetch("/api/subjects"),fetch("/api/grades")]);if(e.ok){let s=await e.json();u(s)}if(s.ok){let e=await s.json();h(e)}if(a.ok){let e=await a.json();b(e)}}catch(e){console.error("Error fetching data:",e),m.ZP.error("Terjadi kesalahan saat memuat data")}finally{y(!1)}},q=()=>{let e={};return O.studentId||(e.studentId="Siswa harus dipilih"),O.subjectId||(e.subjectId="Mata pelajaran harus dipilih"),O.taskName.trim()?O.taskName.trim().length<3&&(e.taskName="Nama tugas minimal 3 karakter"):e.taskName="Nama tugas harus diisi",O.score<0?e.score="Nilai tidak boleh negatif":O.score>O.maxScore&&(e.score="Nilai tidak boleh lebih dari nilai maksimal"),O.maxScore<=0?e.maxScore="Nilai maksimal harus lebih dari 0":O.maxScore>1e3&&(e.maxScore="Nilai maksimal tidak boleh lebih dari 1000"),K(e),0===Object.keys(e).length},B=e=>{let{name:s,value:a}=e.target;A(e=>({...e,[s]:"score"===s||"maxScore"===s?parseFloat(a)||0:a})),R[s]&&K(e=>({...e,[s]:void 0}))},G=e=>{e?(w(e),A({studentId:e.student.id,subjectId:e.subject.id,taskName:e.taskName,score:e.score,maxScore:e.maxScore})):(w(null),A({studentId:"",subjectId:"",taskName:"",score:0,maxScore:100})),K({}),k(!0)},H=()=>{k(!1),w(null),A({studentId:"",subjectId:"",taskName:"",score:0,maxScore:100}),K({})},J=async e=>{if(e.preventDefault(),console.log("Grade form submitted with data:",O),!q()){m.ZP.error("Mohon perbaiki kesalahan pada form");return}I(!0);try{let e=v?`/api/grades/${v.id}`:"/api/grades",s=await fetch(e,{method:v?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:O.studentId,subjectId:O.subjectId,taskName:O.taskName.trim(),score:O.score,maxScore:O.maxScore})}),a=await s.json();console.log("Grade API response:",a),s.ok?(m.ZP.success(v?"Nilai berhasil diupdate!":"Nilai berhasil ditambahkan!"),U(),H()):m.ZP.error(a.error||"Terjadi kesalahan")}catch(e){console.error("Error saving grade:",e),m.ZP.error("Terjadi kesalahan saat menyimpan data")}finally{I(!1)}},W=async e=>{if(window.confirm(`Apakah Anda yakin ingin menghapus nilai "${e.taskName}" untuk siswa ${e.student.name}?`))try{let s=await fetch(`/api/grades/${e.id}`,{method:"DELETE"});if(s.ok)m.ZP.success("Nilai berhasil dihapus!"),U();else{let e=await s.json();m.ZP.error(e.error||"Gagal menghapus nilai")}}catch(e){console.error("Error deleting grade:",e),m.ZP.error("Terjadi kesalahan saat menghapus nilai")}},V=async()=>{try{let s=await fetch("/api/export/excel");if(s.ok){let a=await s.blob(),r=window.URL.createObjectURL(a),t=document.createElement("a");t.style.display="none",t.href=r,t.download=`Rekap_Nilai_Kelas_${e?.user?.assignedClass}_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(r),m.ZP.success("File Excel berhasil diunduh!")}else m.ZP.error("Gagal mengexport data")}catch(e){console.error("Error exporting to Excel:",e),m.ZP.error("Terjadi kesalahan saat export data")}},X=()=>{let e={};return Z.subjectId||(e.subjectId="Mata pelajaran harus dipilih"),Z.taskName.trim()?Z.taskName.trim().length<3&&(e.taskName="Nama tugas minimal 3 karakter"):e.taskName="Nama tugas harus diisi",Z.score<0?e.score="Nilai tidak boleh negatif":Z.score>Z.maxScore&&(e.score="Nilai tidak boleh lebih dari nilai maksimal"),Z.maxScore<=0?e.maxScore="Nilai maksimal harus lebih dari 0":Z.maxScore>1e3&&(e.maxScore="Nilai maksimal tidak boleh lebih dari 1000"),z(e),0===Object.keys(e).length},Q=e=>{let{name:s,value:a}=e.target;F(e=>({...e,[s]:"score"===s||"maxScore"===s?parseFloat(a)||0:a})),_[s]&&z(e=>({...e,[s]:void 0}))},Y=async e=>{if(e.preventDefault(),console.log("Bulk grade form submitted with data:",Z),!X()){m.ZP.error("Mohon perbaiki kesalahan pada form");return}if(0===a.length){m.ZP.error("Tidak ada siswa untuk diberi nilai");return}if(window.confirm(`Apakah Anda yakin ingin memberikan nilai ${Z.score}/${Z.maxScore} untuk tugas "${Z.taskName}" kepada semua ${a.length} siswa?`)){L(!0);try{let e=0,s=0;for(let r of a)try{(await fetch("/api/grades",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studentId:r.id,subjectId:Z.subjectId,taskName:Z.taskName.trim(),score:Z.score,maxScore:Z.maxScore})})).ok?e++:s++}catch(e){s++}e>0&&(m.ZP.success(`Berhasil memberikan nilai ke ${e} siswa!`),U(),T(!1),F({subjectId:"",taskName:"",score:0,maxScore:100}),z({})),s>0&&m.ZP.error(`${s} siswa gagal diberi nilai`)}catch(e){console.error("Error bulk saving grades:",e),m.ZP.error("Terjadi kesalahan saat menyimpan nilai")}finally{L(!1)}}},ee=(e,s)=>Math.round(e/s*100),es=e=>e>=80?"#10b981":e>=70?"#f59e0b":e>=60?"#f97316":"#ef4444";return"loading"===s?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(n.Z,{}),r.jsx("div",{className:"container mx-auto px-6 py-8",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4",style:{color:"#6b7280"},children:"Memuat data..."})]})})]}):e?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(n.Z,{}),(0,r.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold",style:{color:"#111827"},children:["Input Nilai Kelas ",e.user?.assignedClass]}),(0,r.jsxs)("p",{style:{color:"#6b7280"},children:["Total: ",g.length," nilai"]})]}),(0,r.jsxs)("div",{className:"space-x-3",children:[r.jsx(c.z,{variant:"outline",onClick:V,children:"Export Excel"}),r.jsx(c.z,{variant:"outline",onClick:()=>{F({subjectId:"",taskName:"",score:0,maxScore:100}),z({}),T(!0)},children:"Nilai Sama Semua"}),r.jsx(c.z,{onClick:()=>G(),children:"Input Nilai"})]})]}),r.jsx(o.Z,{className:"mb-6",children:(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"#111827"},children:"Filter Data"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Filter Siswa"}),(0,r.jsxs)("select",{value:P,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{color:"#111827",backgroundColor:"#ffffff"},children:[r.jsx("option",{value:"",children:"Semua Siswa"}),a.map(e=>r.jsx("option",{value:e.id,style:{color:"#111827"},children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Mata Pelajaran"}),(0,r.jsxs)("select",{value:$,onChange:e=>E(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{color:"#111827",backgroundColor:"#ffffff"},children:[r.jsx("option",{value:"",children:"Semua Mata Pelajaran"}),x.map(e=>r.jsx("option",{value:e.id,style:{color:"#111827"},children:e.name},e.id))]})]})]})]})}),j?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4",style:{color:"#6b7280"},children:"Memuat data nilai..."})]}):r.jsx(o.Z,{children:r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"Siswa"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"Mata Pelajaran"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"Tugas"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"Nilai"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"Persentase"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",style:{color:"#374151"},children:"Aksi"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===g.length?r.jsx("tr",{children:(0,r.jsxs)("td",{colSpan:6,className:"px-6 py-8 text-center",children:[r.jsx("p",{style:{color:"#6b7280"},children:0===p.length?"Belum ada nilai yang diinput":"Tidak ada data sesuai filter"}),r.jsx(c.z,{onClick:()=>G(),className:"mt-4",variant:"outline",children:"Input Nilai Pertama"})]})}):g.map(e=>{let s=ee(e.score,e.maxScore);return(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium",style:{color:"#111827"},children:e.student.name}),e.student.nisn&&(0,r.jsxs)("div",{className:"text-xs",style:{color:"#6b7280"},children:["NISN: ",e.student.nisn]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:"#374151"},children:e.subject.name}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium",style:{color:"#111827"},children:e.taskName}),r.jsx("div",{className:"text-xs",style:{color:"#6b7280"},children:new Date(e.date).toLocaleDateString("id-ID")})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,r.jsxs)("div",{className:"text-sm font-medium",style:{color:"#111827"},children:[e.score," / ",e.maxScore]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:es(s)+"20",color:es(s)},children:[s,"%"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,r.jsxs)("div",{className:"space-x-2",children:[r.jsx(c.z,{variant:"outline",size:"sm",onClick:()=>G(e),children:"Edit"}),r.jsx(c.z,{variant:"danger",size:"sm",onClick:()=>W(e),children:"Hapus"})]})})]},e.id)})})]})})})]}),r.jsx(d.u,{isOpen:N,onClose:H,title:v?"Edit Nilai":"Input Nilai Baru",children:(0,r.jsxs)("form",{onSubmit:J,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Siswa"}),(0,r.jsxs)("select",{name:"studentId",value:O.studentId,onChange:B,className:`
                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                  ${R.studentId?"border-red-500":"border-gray-300"}
                  text-gray-900 bg-white
                `,style:{color:"#111827",backgroundColor:"#ffffff"},disabled:!!v,children:[r.jsx("option",{value:"",children:"Pilih Siswa"}),a.map(e=>r.jsx("option",{value:e.id,style:{color:"#111827"},children:e.name},e.id))]}),R.studentId&&r.jsx("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:R.studentId})]}),(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Mata Pelajaran"}),(0,r.jsxs)("select",{name:"subjectId",value:O.subjectId,onChange:B,className:`
                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                  ${R.subjectId?"border-red-500":"border-gray-300"}
                  text-gray-900 bg-white
                `,style:{color:"#111827",backgroundColor:"#ffffff"},children:[r.jsx("option",{value:"",children:"Pilih Mata Pelajaran"}),x.map(e=>r.jsx("option",{value:e.id,style:{color:"#111827"},children:e.name},e.id))]}),R.subjectId&&r.jsx("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:R.subjectId})]})]}),(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Nama Tugas/Ujian"}),r.jsx("input",{type:"text",name:"taskName",value:O.taskName,onChange:B,placeholder:"Contoh: Ulangan Harian 1, Tugas Kelompok, UTS",className:`
                w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                ${R.taskName?"border-red-500":"border-gray-300"}
                text-gray-900 placeholder-gray-500 bg-white
              `,style:{color:"#111827",backgroundColor:"#ffffff"}}),R.taskName&&r.jsx("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:R.taskName})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Nilai"}),r.jsx("input",{type:"number",name:"score",value:O.score,onChange:B,min:"0",max:O.maxScore,step:"0.1",className:`
                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                  ${R.score?"border-red-500":"border-gray-300"}
                  text-gray-900 bg-white
                `,style:{color:"#111827",backgroundColor:"#ffffff"}}),R.score&&r.jsx("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:R.score})]}),(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Nilai Maksimal"}),r.jsx("input",{type:"number",name:"maxScore",value:O.maxScore,onChange:B,min:"1",max:"1000",step:"1",className:`
                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                  ${R.maxScore?"border-red-500":"border-gray-300"}
                  text-gray-900 bg-white
                `,style:{color:"#111827",backgroundColor:"#ffffff"}}),R.maxScore&&r.jsx("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:R.maxScore})]})]}),O.score>0&&O.maxScore>0&&r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{style:{color:"#374151"},children:"Persentase:"}),(0,r.jsxs)("span",{className:"font-bold text-lg",style:{color:es(ee(O.score,O.maxScore))},children:[ee(O.score,O.maxScore),"%"]})]})}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[r.jsx(c.z,{type:"button",variant:"outline",onClick:H,children:"Batal"}),r.jsx(c.z,{type:"submit",disabled:S,children:S?"Menyimpan...":v?"Update":"Simpan"})]})]})}),r.jsx(d.u,{isOpen:M,onClose:()=>T(!1),title:"Berikan Nilai Sama untuk Semua Siswa",children:(0,r.jsxs)("form",{onSubmit:Y,className:"space-y-6",children:[r.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,r.jsxs)("p",{className:"text-sm",style:{color:"#1d4ed8"},children:["Fitur ini akan memberikan nilai yang sama untuk tugas tertentu kepada semua ",a.length," siswa di kelas Anda."]})}),(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Mata Pelajaran"}),(0,r.jsxs)("select",{name:"subjectId",value:Z.subjectId,onChange:Q,className:`
                w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                ${_.subjectId?"border-red-500":"border-gray-300"}
                text-gray-900 bg-white
              `,style:{color:"#111827",backgroundColor:"#ffffff"},children:[r.jsx("option",{value:"",children:"Pilih Mata Pelajaran"}),x.map(e=>r.jsx("option",{value:e.id,style:{color:"#111827"},children:e.name},e.id))]}),_.subjectId&&r.jsx("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:_.subjectId})]}),(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Nama Tugas/Ujian"}),r.jsx("input",{type:"text",name:"taskName",value:Z.taskName,onChange:Q,placeholder:"Contoh: Ulangan Harian 1, Tugas Kelompok, UTS",className:`
                w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                ${_.taskName?"border-red-500":"border-gray-300"}
                text-gray-900 placeholder-gray-500 bg-white
              `,style:{color:"#111827",backgroundColor:"#ffffff"}}),_.taskName&&r.jsx("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:_.taskName})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Nilai"}),r.jsx("input",{type:"number",name:"score",value:Z.score,onChange:Q,min:"0",max:Z.maxScore,step:"0.1",className:`
                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                  ${_.score?"border-red-500":"border-gray-300"}
                  text-gray-900 bg-white
                `,style:{color:"#111827",backgroundColor:"#ffffff"}}),_.score&&r.jsx("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:_.score})]}),(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#374151"},children:"Nilai Maksimal"}),r.jsx("input",{type:"number",name:"maxScore",value:Z.maxScore,onChange:Q,min:"1",max:"1000",step:"1",className:`
                  w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                  ${_.maxScore?"border-red-500":"border-gray-300"}
                  text-gray-900 bg-white
                `,style:{color:"#111827",backgroundColor:"#ffffff"}}),_.maxScore&&r.jsx("p",{className:"mt-1 text-sm text-red-600",style:{color:"#dc2626"},children:_.maxScore})]})]}),Z.score>0&&Z.maxScore>0&&(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{style:{color:"#374151"},children:"Persentase:"}),(0,r.jsxs)("span",{className:"font-bold text-lg",style:{color:es(ee(Z.score,Z.maxScore))},children:[ee(Z.score,Z.maxScore),"%"]})]}),r.jsx("div",{className:"mt-2",children:(0,r.jsxs)("span",{className:"text-sm",style:{color:"#374151"},children:["Nilai ini akan diberikan kepada ",a.length," siswa"]})})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[r.jsx(c.z,{type:"button",variant:"outline",onClick:()=>T(!1),children:"Batal"}),r.jsx(c.z,{type:"submit",disabled:D,children:D?"Menyimpan...":"Simpan Nilai untuk Semua Siswa"})]})]})})]}):null}},58015:(e,s,a)=>{"use strict";a.d(s,{Z:()=>c});var r=a(10326),t=a(77109),l=a(90434),i=a(35047),n=a(99837);let o=[{name:"Dashboard",href:"/dashboard"},{name:"Data Siswa",href:"/students"},{name:"Input Nilai",href:"/grades"}];function c(){let{data:e}=(0,t.useSession)(),s=(0,i.usePathname)(),a=()=>{(0,t.signOut)({callbackUrl:"/login"})};return e?r.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(l.default,{href:"/dashboard",className:"flex items-center",children:r.jsx("h1",{className:"text-xl font-bold text-blue-600",children:"Penilaian SD"})}),r.jsx("div",{className:"hidden sm:ml-8 sm:flex sm:space-x-8",children:o.map(e=>r.jsx(l.default,{href:e.href,className:`inline-flex items-center px-1 pt-1 text-sm font-medium border-b-2 transition-colors ${s===e.href?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.name},e.name))})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"hidden sm:flex sm:items-center sm:space-x-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:[e.user?.name," - Kelas ",e.user?.assignedClass]}),r.jsx(n.z,{variant:"outline",size:"sm",onClick:a,children:"Logout"})]}),r.jsx("div",{className:"sm:hidden",children:r.jsx(n.z,{variant:"outline",size:"sm",onClick:a,children:"Logout"})})]})]}),(0,r.jsxs)("div",{className:"sm:hidden pb-3 pt-2 space-y-1",children:[o.map(e=>r.jsx(l.default,{href:e.href,className:`block pl-3 pr-4 py-2 text-base font-medium transition-colors ${s===e.href?"bg-blue-50 border-l-4 border-blue-500 text-blue-700":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:e.name},e.name)),(0,r.jsxs)("div",{className:"pl-3 pr-4 py-2 text-sm text-gray-600",children:[e.user?.name," - Kelas ",e.user?.assignedClass]})]})]})}):null}},55596:(e,s,a)=>{"use strict";a.d(s,{default:()=>i});var r=a(10326),t=a(77109),l=a(40381);function i({children:e}){return(0,r.jsxs)(t.SessionProvider,{children:[e,r.jsx(l.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,style:{background:"#10B981"}},error:{duration:5e3,style:{background:"#EF4444"}}}})]})}},99837:(e,s,a)=>{"use strict";a.d(s,{z:()=>t});var r=a(10326);a(17577);let t=({variant:e="primary",size:s="md",loading:a=!1,disabled:t,children:l,className:i="",...n})=>(0,r.jsxs)("button",{className:`inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"border border-gray-300 bg-white hover:bg-gray-50 focus:ring-blue-500"}[e]} ${{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[s]} ${i}`,style:{color:"outline"===e?"#374151":"#ffffff",backgroundColor:"primary"===e?"#2563eb":"secondary"===e?"#4b5563":"danger"===e?"#dc2626":"#ffffff"},disabled:t||a,...n,children:[a&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l]})},47375:(e,s,a)=>{"use strict";a.d(s,{O:()=>l,Z:()=>t});var r=a(10326);a(17577);let t=({children:e,className:s="",padding:a=!0})=>r.jsx("div",{className:`bg-white rounded-lg shadow-md border border-gray-200 ${a?"p-6":""} ${s}`,children:e}),l=({title:e,subtitle:s,action:a})=>(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e}),s&&r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s})]}),a&&r.jsx("div",{children:a})]})},28676:(e,s,a)=>{"use strict";a.d(s,{u:()=>t});var r=a(10326);a(17577);let t=({isOpen:e,onClose:s,title:a,children:t,size:l="md"})=>e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s}),(0,r.jsxs)("div",{className:`relative bg-white rounded-lg shadow-xl w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[l]} max-h-[90vh] overflow-y-auto`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx("div",{className:"p-6",children:t})]})]})}):null},76429:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var r=a(68570);let t=(0,r.createProxy)(String.raw`D:\FILE FIKRI\penilaian sd\src\app\grades\page.tsx`),{__esModule:l,$$typeof:i}=t;t.default;let n=(0,r.createProxy)(String.raw`D:\FILE FIKRI\penilaian sd\src\app\grades\page.tsx#default`)},74614:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u,metadata:()=>m});var r=a(19510),t=a(25384),l=a.n(t);a(5023);var i=a(68570);let n=(0,i.createProxy)(String.raw`D:\FILE FIKRI\penilaian sd\src\components\Providers.tsx`),{__esModule:o,$$typeof:c}=n;n.default;let d=(0,i.createProxy)(String.raw`D:\FILE FIKRI\penilaian sd\src\components\Providers.tsx#default`),m={title:"Aplikasi Penilaian Guru SD",description:"Aplikasi untuk membantu guru SD dalam mengelola penilaian siswa"};function u({children:e}){return r.jsx("html",{lang:"id",children:r.jsx("body",{className:l().className,children:r.jsx(d,{children:e})})})}},5023:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[948,541,496],()=>a(9911));module.exports=r})();